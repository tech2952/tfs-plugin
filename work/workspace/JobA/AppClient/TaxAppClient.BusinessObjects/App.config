<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
  </configSections>

  <log4net>
    <appender name="Console" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <!-- Pattern to output the caller's file name and line number -->
        <!--<conversionPattern value="%5level [%thread] (%file:%line) - %message%newline" />-->
        <!--<conversionPattern value="%5level [%thread] %logger - %message%newline" /> -->
        <conversionPattern value="[%5level] [%thread] [%logger:%line] %message%newline" />
      </layout>
    </appender>

    <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
      <file value="TestHarnessLog.txt" />
      <appendToFile value="true" />
      <maximumFileSize value="100KB" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="2" />

      <layout type="log4net.Layout.PatternLayout">
        <header value="[LOG BEGIN %date]%newline" type="log4net.Util.PatternString" />
        <conversionPattern value="%5level [%thread] %logger:(%file:%line) - %message%newline" />
        <footer value="[LOG END %date]%newline" type="log4net.Util.PatternString" />
      </layout>
    </appender>

    <root>
      <level value="DEBUG" />
      <appender-ref ref="Console" />
      <appender-ref ref="RollingFile" />
    </root>
  </log4net>

  <!-- these are here so that the tests can communicate with the WCF services -->



  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_ITaxAppClientServiceMTOM" closeTimeout="00:01:00"
              openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
              allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
              maxBufferSize="10000000" maxBufferPoolSize="524288" maxReceivedMessageSize="10000000"
              messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
              useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="10000000"
              maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None"
                realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
      </basicHttpBinding>

      <netTcpBinding>
        <binding name="DuplexBinding" sendTimeout="00:00:05" >
          <reliableSession enabled="true" />
          <security mode="None" />
        </binding>
      </netTcpBinding>


      <wsHttpBinding>
        <binding name="MetadataExchangeHttpBinding_ITaxAppClientService"
            closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00"
            sendTimeout="00:01:00" bypassProxyOnLocal="false" transactionFlow="false"
            hostNameComparisonMode="StrongWildcard" maxBufferPoolSize="524288"
            maxReceivedMessageSize="65536" messageEncoding="Text" textEncoding="utf-8"
            useDefaultWebProxy="true" allowCookies="false">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
              maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00"
              enabled="false" />
          <security mode="None">
            <transport clientCredentialType="Windows" proxyCredentialType="None"
                realm="" />
            <message clientCredentialType="Windows" negotiateServiceCredential="true"
                establishSecurityContext="true" />
          </security>
        </binding>
      </wsHttpBinding>


    </bindings>
    <client>
      <endpoint name="MetadataExchangeHttpBinding_ITaxAppClientService"
                address="http://localhost:8080/TaxAppClientWCFService/mex"
                binding="wsHttpBinding"
                bindingConfiguration="MetadataExchangeHttpBinding_ITaxAppClientService"
                contract="ITaxAppClientService" />

      <endpoint name="BasicHttpBinding_ITaxAppClientServiceMTOM"
                address="http://localhost:8080/TaxAppClientWCFServiceMTOM/mex"
                binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_ITaxAppClientServiceMTOM"
                contract="ITaxAppClientServiceMTOM" />

      <endpoint address="net.tcp://localhost:11221/TACAsyncService"
                binding="netTcpBinding"
                bindingConfiguration="DuplexBinding"
                contract="ITaxAppClientAsyncService"
                name="ClientTcpBinding" />

    </client>
  </system.serviceModel>


</configuration>